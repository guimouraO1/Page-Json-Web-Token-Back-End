<div class="main">
  <div class="search">
    <div class="searchHeader">
      <h1>Search</h1>
      <mat-icon>search</mat-icon>
    </div>
    <div class="item">
      <mat-form-field appearance="outline">
        <mat-label>Search for name</mat-label>
        <input type="text" (input)="filterfirstName($event)" matInput />
      </mat-form-field>
    </div>
  </div>
  <div class="usersList">
    <div class="cards-container">
      @for (listaUser of paginatedUsers; track $index) {
      <mat-list class="cards">
        <div class="header-card">
          @if(!listaUser?.filename){
          <mat-icon color="primary" class="icon">account_circle</mat-icon>
          }@else {
          <!-- ngIf="listaUser?.filename" -->
          <img
            class="img-icon"
            src="http://localhost/loginPage/backend/upload/{{ listaUser.id }}/{{
              listaUser.filename
            }}"
            alt=""
          />
          }
          <mat-icon color="primary">person_add</mat-icon>
        </div>
        <mat-divider></mat-divider>
        <mat-list-item>ID: {{ listaUser.id }}</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>Email: {{ listaUser.email }}</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>Name: {{ listaUser.firstName }}</mat-list-item>
        <mat-divider></mat-divider>
        <div class="btn-div">
          <button type="submit" class="btn" mat-raised-button color="primary">
            Message
          </button>
        </div>
      </mat-list>
      } @empty { @defer () {
      <h1>No More users in this page</h1>
      } @loading (minimum 2000ms) {
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      <h1>Loading all users...</h1>
      } }
    </div>
    <div class="pagination-container">
      <mat-paginator
        [length]="listaUsers.length"
        [pageSize]="pageSize"
        [pageSizeOptions]="[6]"
        aria-label="Select page"
        (page)="pageChange($event)"
      >
      </mat-paginator>
    </div>
  </div>
</div>
